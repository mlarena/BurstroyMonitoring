@model BurstroyMonitoring.Data.Models.ViewModels.AutoUpdateViewModel

@{
    var prefix = Model?.Prefix ?? "default";
    var containerId = $"{prefix}AutoUpdateControl";
    var toggleId = $"{prefix}AutoUpdateToggle";
    var timerId = $"{prefix}CountdownTimer";
    var color = Model?.Color ?? "secondary";
    
    // Определяем класс цвета для бейджа
    var badgeColorClass = color switch
    {
        "danger" => "badge-danger",
        "success" => "badge-success",
        "warning" => "badge-warning",
        "info" => "badge-info",
        _ => "badge-secondary"
    };
}

<div class="d-flex align-center bsp-chart-auto-update-control" 
     id="@containerId" 
     data-prefix="@prefix"
     data-color="@color"
     style="gap: var(--spacing-sm);">
    
    <!-- Чекбокс автообновления -->
    <div class="checkbox-group" style="margin: 0;">
        <input type="checkbox" 
               class="bsp-chart-form-check-input" 
               id="@toggleId" 
               data-auto-update-toggle="true"
               checked
               style="width: 18px; height: 18px; margin: 0;">
        <label for="@toggleId" style="font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 4px;">
            <i class="fas fa-sync-alt fa-xs"></i> 30с
        </label>
    </div>
    
    <!-- Таймер -->
    <span id="@timerId" class="badge @badgeColorClass bsp-chart-countdown-timer" style="font-size: 11px; padding: 2px 6px;">30</span>
</div>